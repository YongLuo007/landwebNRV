{
    "contents" : "################################################################################\n#' purify MB TSP data\n#' \n#' \n#' @param MBTSPDataRaw  data table, which is the raw tree data from DAT file, recordType == 2\n#'                  treeData can be obtained using obtainTreeDataAB function\n#'\n#'        \n#'\n#' @return  two data tables, the first one head data, which contains the location and SA info.\n#'                           the second one is purified tree data, which contains inividual tree infor.\n#'                           for the tree data, all trees are alive.\n#'                      \n#'\n#' @note no note\n#'\n#' @seealso no\n#'\n#' @include \n#' @export\n#' @docType methods\n#' @rdname dataPurification_MBTSP\n#'\n#' @author Yong Luo\n#'\n#' @examples\n#' \\dontrun{\n#' \n#' }\nsetGeneric(\"dataPurification_MBTSP\", function(MBTSPDataRaw) {\n  standardGeneric(\"dataPurification_MBTSP\")\n})\n#' @export\n#' @rdname dataPurification_MBTSP\nsetMethod(\n  \"dataPurification_MBTSP\",\n  signature = c(MBTSPDataRaw = \"data.table\"),\n  definition = function(MBTSPDataRaw) {\n    rm(list=ls())\n    setwd(\"C:/Users/Yong Luo/Documents/PSPs/Data/Data/MB\")\n    MBTSPDataRaw <- read.csv(\"MB_TSP_Highrock.csv\",\n                             header = TRUE,\n                             stringsAsFactors = FALSE) %>%\n      data.table\n    # get SA information using dominant and codominant trees\n    MBTSPDataRaw <- MBTSPDataRaw[,Nofplot:=length(unique(PLOTNO)), by = TILE]\n    \n    headData <- MBTSPDataRaw[!is.na(AGE_BH) & (CC == \"D\" | CC == \"C\"),]\n    headData <- headData[, SA:=as.integer(mean(AGE_BH))+8, by = TILE]\n    headData[, Plotsize:=0.02*Nofplot]\n    headData <- headData[,.(TILE, )]\n    return(list(headData = headData,\n                treeData = treeData))\n  })\n",
    "created" : 1461399308349.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "578136069",
    "id" : "5314A63C",
    "lastKnownWriteTime" : 1461401366,
    "path" : "~/GitHub/landwebNRV/landwebNRV/R/dataPurification_MBTSP.R",
    "project_path" : "R/dataPurification_MBTSP.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_source"
}